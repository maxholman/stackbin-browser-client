!function(){var t,e,r;!function(n){function o(t,e){return w.call(t,e)}function i(t,e){var r,n,o,i,a,s,u,c,f,l,p,h=e&&e.split("/"),g=m.map,d=g&&g["*"]||{};if(t&&"."===t.charAt(0))if(e){for(t=t.split("/"),a=t.length-1,m.nodeIdCompat&&j.test(t[a])&&(t[a]=t[a].replace(j,"")),t=h.slice(0,h.length-1).concat(t),f=0;f<t.length;f+=1)if(p=t[f],"."===p)t.splice(f,1),f-=1;else if(".."===p){if(1===f&&(".."===t[2]||".."===t[0]))break;f>0&&(t.splice(f-1,2),f-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((h||d)&&g){for(r=t.split("/"),f=r.length;f>0;f-=1){if(n=r.slice(0,f).join("/"),h)for(l=h.length;l>0;l-=1)if(o=g[h.slice(0,l).join("/")],o&&(o=o[n])){i=o,s=f;break}if(i)break;!u&&d&&d[n]&&(u=d[n],c=f)}!i&&u&&(i=u,s=c),i&&(r.splice(0,s,i),t=r.join("/"))}return t}function a(t,e){return function(){var r=k.call(arguments,0);return"string"!=typeof r[0]&&1===r.length&&r.push(null),h.apply(n,r.concat([t,e]))}}function s(t){return function(e){return i(e,t)}}function u(t){return function(e){y[t]=e}}function c(t){if(o(v,t)){var e=v[t];delete v[t],b[t]=!0,p.apply(n,e)}if(!o(y,t)&&!o(b,t))throw new Error("No "+t);return y[t]}function f(t){var e,r=t?t.indexOf("!"):-1;return r>-1&&(e=t.substring(0,r),t=t.substring(r+1,t.length)),[e,t]}function l(t){return function(){return m&&m.config&&m.config[t]||{}}}var p,h,g,d,y={},v={},m={},b={},w=Object.prototype.hasOwnProperty,k=[].slice,j=/\.js$/;g=function(t,e){var r,n=f(t),o=n[0];return t=n[1],o&&(o=i(o,e),r=c(o)),o?t=r&&r.normalize?r.normalize(t,s(e)):i(t,e):(t=i(t,e),n=f(t),o=n[0],t=n[1],o&&(r=c(o))),{f:o?o+"!"+t:t,n:t,pr:o,p:r}},d={require:function(t){return a(t)},exports:function(t){var e=y[t];return"undefined"!=typeof e?e:y[t]={}},module:function(t){return{id:t,uri:"",exports:y[t],config:l(t)}}},p=function(t,e,r,i){var s,f,l,p,h,m,w=[],k=typeof r;if(i=i||t,"undefined"===k||"function"===k){for(e=!e.length&&r.length?["require","exports","module"]:e,h=0;h<e.length;h+=1)if(p=g(e[h],i),f=p.f,"require"===f)w[h]=d.require(t);else if("exports"===f)w[h]=d.exports(t),m=!0;else if("module"===f)s=w[h]=d.module(t);else if(o(y,f)||o(v,f)||o(b,f))w[h]=c(f);else{if(!p.p)throw new Error(t+" missing "+f);p.p.load(p.n,a(i,!0),u(f),{}),w[h]=y[f]}l=r?r.apply(y[t],w):void 0,t&&(s&&s.exports!==n&&s.exports!==y[t]?y[t]=s.exports:l===n&&m||(y[t]=l))}else t&&(y[t]=r)},t=e=h=function(t,e,r,o,i){if("string"==typeof t)return d[t]?d[t](e):c(g(t,e).f);if(!t.splice){if(m=t,m.deps&&h(m.deps,m.callback),!e)return;e.splice?(t=e,e=r,r=null):t=n}return e=e||function(){},"function"==typeof r&&(r=o,o=i),o?p(n,t,e,r):setTimeout(function(){p(n,t,e,r)},4),h},h.config=function(t){return h(t)},t._defined=y,r=function(t,e,r){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(r=e,e=[]),o(y,t)||o(v,t)||(v[t]=[t,e,r])},r.amd={jQuery:!0}}(),r("requireLib",function(){}),r("manifest",{version:"1.0.2",name:"stackbin-browser-client"}),function(){"use strict";function t(t){return null==t?"":t+""}function e(t){return!!t&&"object"==typeof t}function n(){}function o(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function i(t,e){for(var r=-1,n=t.length;++r<n&&e(t[r],r,t)!==!1;);return t}function a(t,e,r){r||(r={});for(var n=-1,o=e.length;++n<o;){var i=e[n];r[i]=t[i]}return r}function s(t,e){return Lt(t,e,P)}function u(t,e){return Lt(t,e,Qt)}function c(t,e,r){if(null!=t){r!==Q&&r in E(t)&&(e=[r]);for(var n=0,o=e.length;null!=t&&o>n;)t=t[e[n++]];return n&&n==o?t:Q}}function f(t,r,n,o,a){if(!R(t))return t;var s=b(r)&&(Dt(r)||$(r)),u=s?Q:Qt(r);return i(u||r,function(i,c){if(u&&(c=i,i=r[c]),e(i))o||(o=[]),a||(a=[]),l(t,r,c,f,n,o,a);else{var p=t[c],h=n?n(p,i,c,t,r):Q,g=h===Q;g&&(h=i),h===Q&&(!s||c in t)||!g&&(h===h?h===p:p!==p)||(t[c]=h)}}),t}function l(t,e,r,n,i,a,s){for(var u=a.length,c=e[r];u--;)if(a[u]==c)return void(t[r]=s[u]);var f=t[r],l=i?i(f,c,r,t,e):Q,p=l===Q;p&&(l=c,b(c)&&(Dt(c)||$(c))?l=Dt(f)?f:b(f)?o(f):[]:B(c)||I(c)?l=I(f)?L(f):B(f)?f:{}:p=!1),a.push(c),s.push(l),p?t[r]=n(l,c,i,a,s):(l===l?l!==f:f===f)&&(t[r]=l)}function p(t){return function(e){return null==e?Q:e[t]}}function h(t,e,r){if("function"!=typeof t)return D;if(e===Q)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 3:return function(r,n,o){return t.call(e,r,n,o)};case 4:return function(r,n,o,i){return t.call(e,r,n,o,i)};case 5:return function(r,n,o,i,a){return t.call(e,r,n,o,i,a)}}return function(){return t.apply(e,arguments)}}function g(t){return O(function(e,r){var n=-1,o=null==e?0:r.length,i=o>2?r[o-2]:Q,a=o>2?r[2]:Q,s=o>1?r[o-1]:Q;for("function"==typeof i?(i=h(i,s,5),o-=2):(i="function"==typeof s?s:Q,o-=i?1:0),a&&k(r[0],r[1],a)&&(i=3>o?Q:i,o=1);++n<o;){var u=r[n];u&&t(e,u,i)}return e})}function d(t,e){return function(r,n){var o=r?Mt(r):0;if(!A(o))return t(r,n);for(var i=e?o:-1,a=E(r);(e?i--:++i<o)&&n(a[i],i,a)!==!1;);return r}}function y(t){return function(e,r,n){for(var o=E(e),i=n(e),a=i.length,s=t?a:-1;t?s--:++s<a;){var u=i[s];if(r(o[u],u,o)===!1)break}return e}}function v(t,e){return function(r,n,o){return"function"==typeof n&&o===Q&&Dt(r)?t(r,n):e(r,h(n,o,3))}}function m(t,e){var r=null==t?Q:t[e];return q(r)?r:Q}function b(t){return null!=t&&A(Mt(t))}function w(t,e){return t="number"==typeof t||jt.test(t)?+t:-1,e=null==e?Ft:e,t>-1&&t%1==0&&e>t}function k(t,e,r){if(!R(r))return!1;var n=typeof e;if("number"==n?b(r)&&w(e,r.length):"string"==n&&e in r){var o=r[e];return t===t?t===o:o!==o}return!1}function j(t,e){var r=typeof t;if("string"==r&&mt.test(t)||"number"==r)return!0;if(Dt(t))return!1;var n=!vt.test(t);return n||null!=e&&t in E(e)}function A(t){return"number"==typeof t&&t>-1&&t%1==0&&Ft>=t}function _(t){for(var e=P(t),r=e.length,n=r&&t.length,o=!!n&&A(n)&&(Dt(t)||I(t)),i=-1,a=[];++i<r;){var s=e[i];(o&&w(s,n)||It.call(t,s))&&a.push(s)}return a}function E(t){return R(t)?t:Object(t)}function x(e){if(Dt(e))return e;var r=[];return t(e).replace(bt,function(t,e,n,o){r.push(n?o.replace(wt,"$1"):e||t)}),r}function S(t,e,r){function n(){h&&clearTimeout(h),c&&clearTimeout(c),d=0,c=h=g=Q}function o(e,r){r&&clearTimeout(r),c=h=g=Q,e&&(d=Vt(),f=t.apply(p,u),h||c||(u=p=Q))}function i(){var t=e-(Vt()-l);0>=t||t>e?o(g,c):h=setTimeout(i,t)}function a(){o(v,h)}function s(){if(u=arguments,l=Vt(),p=this,g=v&&(h||!m),y===!1)var r=m&&!h;else{c||m||(d=l);var n=y-(l-d),o=0>=n||n>y;o?(c&&(c=clearTimeout(c)),d=l,f=t.apply(p,u)):c||(c=setTimeout(a,n))}return o&&h?h=clearTimeout(h):h||e===y||(h=setTimeout(i,e)),r&&(o=!0,f=t.apply(p,u)),!o||h||c||(u=p=Q),f}var u,c,f,l,p,h,g,d=0,y=!1,v=!0;if("function"!=typeof t)throw new TypeError(J);if(e=0>e?0:+e||0,r===!0){var m=!0;v=!1}else R(r)&&(m=!!r.leading,y="maxWait"in r&&Bt(+r.maxWait||0,e),v="trailing"in r?!!r.trailing:v);return s.cancel=n,s}function O(t,e){if("function"!=typeof t)throw new TypeError(J);return e=Bt(e===Q?t.length-1:+e||0,0),function(){for(var r=arguments,n=-1,o=Bt(r.length-e,0),i=Array(o);++n<o;)i[n]=r[e+n];switch(e){case 0:return t.call(this,i);case 1:return t.call(this,r[0],i);case 2:return t.call(this,r[0],r[1],i)}var a=Array(e+1);for(n=-1;++n<e;)a[n]=r[n];return a[e]=i,t.apply(this,a)}}function I(t){return e(t)&&b(t)&&It.call(t,"callee")&&!Rt.call(t,"callee")}function C(t){return e(t)&&"string"==typeof t.message&&Ct.call(t)==Y}function T(t){return R(t)&&Ct.call(t)==Z}function R(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function q(t){return null==t?!1:T(t)?Tt.test(Ot.call(t)):e(t)&&kt.test(t)}function N(t){return"number"==typeof t||e(t)&&Ct.call(t)==et}function B(t){var r;if(!e(t)||Ct.call(t)!=rt||I(t)||!It.call(t,"constructor")&&(r=t.constructor,"function"==typeof r&&!(r instanceof r)))return!1;var n;return s(t,function(t,e){n=e}),n===Q||It.call(t,n)}function U(t){return R(t)&&Ct.call(t)==nt}function F(t){return"string"==typeof t||e(t)&&Ct.call(t)==it}function $(t){return e(t)&&A(t.length)&&!!At[Ct.call(t)]}function L(t){return a(t,P(t))}function M(t,e,r){var n=null==t?Q:c(t,x(e),e+"");return n===Q?r:n}function P(t){if(null==t)return[];R(t)||(t=Object(t));var e=t.length;e=e&&A(e)&&(Dt(t)||I(t))&&e||0;for(var r=t.constructor,n=-1,o="function"==typeof r&&r.prototype===t,i=Array(e),a=e>0;++n<e;)i[n]=n+"";for(var s in t)a&&w(s,e)||"constructor"==s&&(o||!It.call(t,s))||i.push(s);return i}function V(t,e,r){if(null==t)return t;var n=e+"";e=null!=t[n]||j(e,t)?[n]:x(e);for(var o=-1,i=e.length,a=i-1,s=t;null!=s&&++o<i;){var u=e[o];R(s)&&(o==a?s[u]=r:null==s[u]&&(s[u]=w(e[o+1])?[]:{})),s=s[u]}return t}function D(t){return t}function H(){}var Q,W="3.10.1",J="Expected a function",X="[object Arguments]",z="[object Array]",G="[object Boolean]",K="[object Date]",Y="[object Error]",Z="[object Function]",tt="[object Map]",et="[object Number]",rt="[object Object]",nt="[object RegExp]",ot="[object Set]",it="[object String]",at="[object WeakMap]",st="[object ArrayBuffer]",ut="[object Float32Array]",ct="[object Float64Array]",ft="[object Int8Array]",lt="[object Int16Array]",pt="[object Int32Array]",ht="[object Uint8Array]",gt="[object Uint8ClampedArray]",dt="[object Uint16Array]",yt="[object Uint32Array]",vt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,mt=/^\w*$/,bt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,wt=/\\(\\)?/g,kt=/^\[object .+?Constructor\]$/,jt=/^\d+$/,At={};At[ut]=At[ct]=At[ft]=At[lt]=At[pt]=At[ht]=At[gt]=At[dt]=At[yt]=!0,At[X]=At[z]=At[st]=At[G]=At[K]=At[Y]=At[Z]=At[tt]=At[et]=At[rt]=At[nt]=At[ot]=At[it]=At[at]=!1;var _t={"function":!0,object:!0},Et=_t[typeof exports]&&exports&&!exports.nodeType&&exports,xt=_t[typeof module]&&module&&!module.nodeType&&module,St=(Et&&xt&&"object"==typeof global&&global&&global.Object&&global,Object.prototype),Ot=Function.prototype.toString,It=St.hasOwnProperty,Ct=St.toString,Tt=RegExp("^"+Ot.call(It).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rt=St.propertyIsEnumerable,qt=m(Array,"isArray"),Nt=m(Object,"keys"),Bt=Math.max,Ut=m(Date,"now"),Ft=9007199254740991,$t=d(u),Lt=y(),Mt=p("length"),Pt=v(i,$t),Vt=Ut||function(){return(new Date).getTime()},Dt=qt||function(t){return e(t)&&A(t.length)&&Ct.call(t)==z},Ht=g(f),Qt=Nt?function(t){var e=null==t?Q:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&b(t)?_(t):R(t)?Nt(t):[]}:_;n.debounce=S,n.forEach=Pt,n.keys=Qt,n.keysIn=P,n.merge=Ht,n.restParam=O,n.set=V,n.toPlainObject=L,n.each=Pt,n.get=M,n.identity=D,n.isArguments=I,n.isArray=Dt,n.isError=C,n.isFunction=T,n.isNative=q,n.isNumber=N,n.isObject=R,n.isPlainObject=B,n.isRegExp=U,n.isString=F,n.isTypedArray=$,n.noop=H,n.now=Vt,n.VERSION=W,"function"==typeof r&&"object"==typeof r.amd&&r.amd&&r("lodash",[],function(){return n})}.call(this),r("config",["require","lodash"],function(t){"use strict";var e=t("lodash"),r=function(){var t={id:"",host:"",event:{xhr:!0,filter:[]},error:{filter:[/^script error.?$/i]},debug:!1,commit:!0};t.filter=t.error.filter,this.set=function(r,n){return e.set(t,r,n)},this.get=function(r){return e.get(t,r)},this.merge=function(t,r){e.merge(this.get(t),r)},this.push=function(t,e){this.get(t).push(e)},this.bulk=function(r){e.merge(t,r)}};return new r}),r("global",["require","manifest","config"],function(t){"use strict";var e=t("manifest"),r=t("config"),n=window,o=n[n.__stkbn],i=document.createElement("a");return i.href=o.s.src,r.set("host",i.hostname),o.VERSION=e.version,o.loaded=!0,o}),r("stringify",[],function(){"use strict";return function(t){var e=Array.prototype.toJSON;e&&delete Array.prototype.toJSON;var r=window.JSON.stringify(t);return e&&(Array.prototype.toJSON=e),r}}),r("logger",["require","config","stringify"],function(t){"use strict";var e="undefined",r=window,n=window.navigator.userAgent.match(/chrome/i)&&window.navigator.vendor.match(/google/i),o=!!window.navigator.userAgent.match(/firefox/i),i=t("config"),a=t("stringify"),s=r.__stkbn;Function.prototype.bind&&window.console&&"object"==typeof console.log&&["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach(function(t){console[t]=this.bind(console[t],console)},Function.prototype.call);var u={log:function(){if(typeof r.console!==e){var t=[].concat.apply([],arguments),o=t.shift();t=t.length?a(t):"N/A",i.get("debug")&&(n?r.console.log.call(r.console,"%c "+s+":","color: rgba(0,0,0,0.4)",o,t):r.console.log(o+":"+t))}},warn:function(){if(typeof r.console!==e){var t=[].concat.apply([],arguments),o=t.shift();t=t.length?a(t):"",n?r.console.warn.call(r.console,s+":",o,t):r.console.warn(o+":"+t)}},error:function(){var t=[].concat.apply([],arguments),i=t.shift();if(typeof r.console!==e){var a;a=n?i:o?i.toString():i.stack?i.stack:i.toString(),t.unshift(a),n?r.console.error.apply(r.console,t):r.console.error(t)}},info:function(){if(typeof r.console!==e){var t=[].concat.apply([],arguments),o=t.shift();t=t.length?a(t):"",n?r.console.info.call(r.console,s+":",o,t):r.console.info(o+":"+t)}}};return u.debug=function(){},u}),r("functions",["require","global","logger"],function(t){"use strict";var e=t("global"),r=t("logger");e.l=function(t){try{t?r.error(t):r.error("logger.error called with undefined args")}catch(e){"undefined"!=typeof window.console&&window.console.error(e.toString())}}}),r("internal",["require","config"],function(t){"use strict";var e=t("config");return{uid:void 0,config:e,audit:[],hashes:[],trap:[],xhr:[],tags:{},events:[],data:{}}}),r("libraries",[],function(){"use strict";var t="undefined",e=window;return function(){var r={};if(typeof e.jQuery!==t&&(r.jquery=e.jQuery.fn.jquery||"-",typeof e.jQuery.ui!==t&&(r.jqueryui=e.jQuery.ui.version||"-")),typeof e.twttr!==t&&(r.twitter="-"),typeof e.FB!==t&&(r.facebook="-"),typeof e.IN!==t){r.linkedin="-";try{var n=e.IN.ENV.url.xd_html.match(/\?v=(.+)/);r.linkedin=n[1]}catch(o){}}return typeof e._!==t&&("lodash"===e._.name?r.lodash=e._.VERSION||"-":r.underscore=e._.VERSION||"-"),typeof e.backbone!==t&&(r.backbone=e.backbone.VERSION||"-",typeof e.marionette!==t&&(r.marionette=e.marionette.VERSION||"-")),typeof e.requirejs!==t&&(r.requirejs=e.requirejs.version||"-"),typeof e.google!==t&&(r.gmaps=e.google.maps&&e.google.maps.version||"-"),typeof e.angular!==t&&(r.angular=e.angular.version&&e.angular.version.full||"-"),r}}),function(t){if("object"==typeof exports)module.exports=t();else if("function"==typeof r&&r.amd)r("md5",t);else{var e;try{e=window}catch(n){e=self}e.SparkMD5=t()}}(function(t){"use strict";function e(t,e,r,n,o,i){return e=b(b(e,t),b(n,i)),b(e<<o|e>>>32-o,r)}function r(t,r,n,o,i,a,s){return e(r&n|~r&o,t,r,i,a,s)}function n(t,r,n,o,i,a,s){return e(r&o|n&~o,t,r,i,a,s)}function o(t,r,n,o,i,a,s){return e(r^n^o,t,r,i,a,s)}function i(t,r,n,o,i,a,s){return e(n^(r|~o),t,r,i,a,s)}function a(t,e){var a=t[0],s=t[1],u=t[2],c=t[3];a=r(a,s,u,c,e[0],7,-680876936),c=r(c,a,s,u,e[1],12,-389564586),u=r(u,c,a,s,e[2],17,606105819),s=r(s,u,c,a,e[3],22,-1044525330),a=r(a,s,u,c,e[4],7,-176418897),c=r(c,a,s,u,e[5],12,1200080426),u=r(u,c,a,s,e[6],17,-1473231341),s=r(s,u,c,a,e[7],22,-45705983),a=r(a,s,u,c,e[8],7,1770035416),c=r(c,a,s,u,e[9],12,-1958414417),u=r(u,c,a,s,e[10],17,-42063),s=r(s,u,c,a,e[11],22,-1990404162),a=r(a,s,u,c,e[12],7,1804603682),c=r(c,a,s,u,e[13],12,-40341101),u=r(u,c,a,s,e[14],17,-1502002290),s=r(s,u,c,a,e[15],22,1236535329),a=n(a,s,u,c,e[1],5,-165796510),c=n(c,a,s,u,e[6],9,-1069501632),u=n(u,c,a,s,e[11],14,643717713),s=n(s,u,c,a,e[0],20,-373897302),a=n(a,s,u,c,e[5],5,-701558691),c=n(c,a,s,u,e[10],9,38016083),u=n(u,c,a,s,e[15],14,-660478335),s=n(s,u,c,a,e[4],20,-405537848),a=n(a,s,u,c,e[9],5,568446438),c=n(c,a,s,u,e[14],9,-1019803690),u=n(u,c,a,s,e[3],14,-187363961),s=n(s,u,c,a,e[8],20,1163531501),a=n(a,s,u,c,e[13],5,-1444681467),c=n(c,a,s,u,e[2],9,-51403784),u=n(u,c,a,s,e[7],14,1735328473),s=n(s,u,c,a,e[12],20,-1926607734),a=o(a,s,u,c,e[5],4,-378558),c=o(c,a,s,u,e[8],11,-2022574463),u=o(u,c,a,s,e[11],16,1839030562),s=o(s,u,c,a,e[14],23,-35309556),a=o(a,s,u,c,e[1],4,-1530992060),c=o(c,a,s,u,e[4],11,1272893353),u=o(u,c,a,s,e[7],16,-155497632),s=o(s,u,c,a,e[10],23,-1094730640),a=o(a,s,u,c,e[13],4,681279174),c=o(c,a,s,u,e[0],11,-358537222),u=o(u,c,a,s,e[3],16,-722521979),s=o(s,u,c,a,e[6],23,76029189),a=o(a,s,u,c,e[9],4,-640364487),c=o(c,a,s,u,e[12],11,-421815835),u=o(u,c,a,s,e[15],16,530742520),s=o(s,u,c,a,e[2],23,-995338651),a=i(a,s,u,c,e[0],6,-198630844),c=i(c,a,s,u,e[7],10,1126891415),u=i(u,c,a,s,e[14],15,-1416354905),s=i(s,u,c,a,e[5],21,-57434055),a=i(a,s,u,c,e[12],6,1700485571),c=i(c,a,s,u,e[3],10,-1894986606),u=i(u,c,a,s,e[10],15,-1051523),s=i(s,u,c,a,e[1],21,-2054922799),a=i(a,s,u,c,e[8],6,1873313359),c=i(c,a,s,u,e[15],10,-30611744),u=i(u,c,a,s,e[6],15,-1560198380),s=i(s,u,c,a,e[13],21,1309151649),a=i(a,s,u,c,e[4],6,-145523070),c=i(c,a,s,u,e[11],10,-1120210379),u=i(u,c,a,s,e[2],15,718787259),s=i(s,u,c,a,e[9],21,-343485551),t[0]=b(a,t[0]),t[1]=b(s,t[1]),t[2]=b(u,t[2]),t[3]=b(c,t[3])}function s(t){var e,r=[];for(e=0;64>e;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}function u(t){var e,r=[];for(e=0;64>e;e+=4)r[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return r}function c(t){var e,r,n,o,i,u,c=t.length,f=[1732584193,-271733879,-1732584194,271733878];for(e=64;c>=e;e+=64)a(f,s(t.substring(e-64,e)));for(t=t.substring(e-64),r=t.length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;r>e;e+=1)n[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(n[e>>2]|=128<<(e%4<<3),e>55)for(a(f,n),e=0;16>e;e+=1)n[e]=0;return o=8*c,o=o.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),u=parseInt(o[1],16)||0,n[14]=i,n[15]=u,a(f,n),f}function f(t){var e,r,n,o,i,s,c=t.length,f=[1732584193,-271733879,-1732584194,271733878];for(e=64;c>=e;e+=64)a(f,u(t.subarray(e-64,e)));for(t=c>e-64?t.subarray(e-64):new Uint8Array(0),r=t.length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;r>e;e+=1)n[e>>2]|=t[e]<<(e%4<<3);if(n[e>>2]|=128<<(e%4<<3),e>55)for(a(f,n),e=0;16>e;e+=1)n[e]=0;return o=8*c,o=o.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),s=parseInt(o[1],16)||0,n[14]=i,n[15]=s,a(f,n),f}function l(t){var e,r="";for(e=0;4>e;e+=1)r+=w[t>>8*e+4&15]+w[t>>8*e&15];return r}function p(t){var e;for(e=0;e<t.length;e+=1)t[e]=l(t[e]);return t.join("")}function h(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function g(t,e){var r,n=t.length,o=new ArrayBuffer(n),i=new Uint8Array(o);for(r=0;n>r;r+=1)i[r]=t.charCodeAt(r);return e?i:o}function d(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function y(t,e,r){var n=new Uint8Array(t.byteLength+e.byteLength);return n.set(new Uint8Array(t)),n.set(new Uint8Array(e),t.byteLength),r?n:n.buffer}function v(t){var e,r=[],n=t.length;for(e=0;n-1>e;e+=2)r.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,r)}function m(){this.reset()}var b=function(t,e){return t+e&4294967295},w=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return"5d41402abc4b2a76b9719d911017c592"!==p(c("hello"))&&(b=function(t,e){var r=(65535&t)+(65535&e),n=(t>>16)+(e>>16)+(r>>16);return n<<16|65535&r}),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||!function(){function e(t,e){return t=0|t||0,0>t?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(r,n){var o,i,a,s,u=this.byteLength,c=e(r,u),f=u;return n!==t&&(f=e(n,u)),c>f?new ArrayBuffer(0):(o=f-c,i=new ArrayBuffer(o),a=new Uint8Array(i),s=new Uint8Array(this,c,o),a.set(s),i)}}(),m.prototype.append=function(t){return this.appendBinary(h(t)),this},m.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,r=this._buff.length;for(e=64;r>=e;e+=64)a(this._hash,s(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},m.prototype.end=function(t){var e,r,n=this._buff,o=n.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;o>e;e+=1)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);return this._finish(i,o),r=p(this._hash),t&&(r=v(r)),this.reset(),r},m.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},m.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},m.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},m.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},m.prototype._finish=function(t,e){var r,n,o,i=e;if(t[i>>2]|=128<<(i%4<<3),i>55)for(a(this._hash,t),i=0;16>i;i+=1)t[i]=0;r=8*this._length,r=r.toString(16).match(/(.*?)(.{0,8})$/),n=parseInt(r[2],16),o=parseInt(r[1],16)||0,t[14]=n,t[15]=o,a(this._hash,t)},m.hash=function(t,e){return m.hashBinary(h(t),e)},m.hashBinary=function(t,e){var r=c(t),n=p(r);return e?v(n):n},m.ArrayBuffer=function(){this.reset()},m.ArrayBuffer.prototype.append=function(t){var e,r=y(this._buff.buffer,t,!0),n=r.length;for(this._length+=t.byteLength,e=64;n>=e;e+=64)a(this._hash,u(r.subarray(e-64,e)));return this._buff=n>e-64?new Uint8Array(r.buffer.slice(e-64)):new Uint8Array(0),this},m.ArrayBuffer.prototype.end=function(t){var e,r,n=this._buff,o=n.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;o>e;e+=1)i[e>>2]|=n[e]<<(e%4<<3);return this._finish(i,o),r=p(this._hash),t&&(r=v(r)),this.reset(),r},m.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},m.ArrayBuffer.prototype.getState=function(){var t=m.prototype.getState.call(this);return t.buff=d(t.buff),t},m.ArrayBuffer.prototype.setState=function(t){return t.buff=g(t.buff,!0),m.prototype.setState.call(this,t)},m.ArrayBuffer.prototype.destroy=m.prototype.destroy,m.ArrayBuffer.prototype._finish=m.prototype._finish,m.ArrayBuffer.hash=function(t,e){var r=f(new Uint8Array(t)),n=p(r);return e?v(n):n},m}),r("stackframe",["logger"],function(){"use strict";e("logger");return function(t,e,r,n,o,i){return{func:t,file:r,line:parseInt(n,10)||0,col:parseInt(o,10)||void 0}}}),function(t,n){"use strict";"function"==typeof r&&r.amd?r("error-stack-parser",["stackframe"],n):"object"==typeof exports?module.exports=n(e("stackframe")):t.ErrorStackParser=n(t.StackFrame)}(this,function(t){"use strict";var e=/(^|@)\S+\:\d+/,r=/\s+at .*(\S+\:\d+|\(native\))/;return{parse:function(t){if("undefined"!=typeof t.stacktrace||"undefined"!=typeof t["opera#sourceloc"])return this.parseOpera(t);if(t.stack&&t.stack.match(r))return this.parseV8OrIE(t);if(t.stack&&t.stack.match(e))return this.parseFFOrSafari(t);throw new Error("Cannot parse given Error object")},extractLocation:function(t){if(-1===t.indexOf(":"))return[t];var e=t.replace(/[\(\)\s]/g,"").split(":"),r=e.pop(),n=e[e.length-1];if(!isNaN(parseFloat(n))&&isFinite(n)){var o=e.pop();return[e.join(":"),o,r]}return[e.join(":"),r,void 0]},parseV8OrIE:function(e){return e.stack.split("\n").filter(function(t){return!!t.match(r)},this).map(function(e){var r=e.replace(/^\s+/,"").split(/\s+/).slice(1),n=this.extractLocation(r.pop()),o=r[0]&&"Anonymous"!==r[0]?r[0]:void 0;return new t(o,void 0,n[0],n[1],n[2],e)},this)},parseFFOrSafari:function(r){return r.stack.split("\n").filter(function(t){return!!t.match(e)},this).map(function(e){var r=e.split("@"),n=this.extractLocation(r.pop()),o=r.shift()||void 0;return new t(o,void 0,n[0],n[1],n[2],e)},this)},parseOpera:function(t){return!t.stacktrace||t.message.indexOf("\n")>-1&&t.message.split("\n").length>t.stacktrace.split("\n").length?this.parseOpera9(t):t.stack?this.parseOpera11(t):this.parseOpera10(t)},parseOpera9:function(e){for(var r=/Line (\d+).*script (?:in )?(\S+)/i,n=e.message.split("\n"),o=[],i=2,a=n.length;a>i;i+=2){var s=r.exec(n[i]);s&&o.push(new t(void 0,void 0,s[2],s[1],void 0,n[i]))}return o},parseOpera10:function(e){for(var r=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=e.stacktrace.split("\n"),o=[],i=0,a=n.length;a>i;i+=2){var s=r.exec(n[i]);s&&o.push(new t(s[3]||void 0,void 0,s[2],s[1],void 0,n[i]))}return o},parseOpera11:function(r){return r.stack.split("\n").filter(function(t){return!!t.match(e)&&!t.match(/^Error created at/)},this).map(function(e){var r,n=e.split("@"),o=this.extractLocation(n.pop()),i=n.shift()||"",a=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;i.match(/\(([^\)]*)\)/)&&(r=i.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var s=void 0===r||"[arguments not available]"===r?void 0:r.split(",");return new t(a,s,o[0],o[1],o[2],e)},this)}}}),r("reporter",["lodash","manifest","logger","libraries","config","stringify","global","internal","md5","error-stack-parser"],function(){"use strict";function t(t){var e=document.createElement("a");e.href=t;var r=e.search.replace(/^\?/,"").split("&"),n={};for(var o in r)if(r.hasOwnProperty(o)){var i=r[o].split("=");n[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return n}function r(t){return t.match(/^(\[\$[\w\:\-\_]+\]) (https?:\/\/[^ \"]+)$/)}function n(e){var n=r(e.message);if(n){var o=n[1],i=n[2],a=[o],s=t(i);if(s.p1){a.push(s.p0),e.stack=s.p0;var u=t(s.p1);u.p1&&(a.push(u.p0),e.stack=u.p1)}e.message=a.join(":")}return e}function o(t){t.name=t.name||"Error",t.message=t.message||t.description||"undefined",n(t);var e;try{e=y.parse(t)}catch(r){c.warn(r,t),e=[]}return{message:t.message.replace(/\r?\n/," "),type:t.name,stack:t.stack,frames:e,args:t.arguments,debug:t.debug&&("string"!=typeof t.debug?p(t.debug):t.debug).substr(0,2048)}}function i(t,e,r){r=r||2e3;try{var n={};n.property_id=l.get("id"),n.channel="browser",n.version={snippet:h.v,collector:u.version},n.error=o(t),n.tags=g.tags,n.meta={location:a.location.href,user_agent:{raw:a.navigator.userAgent},viewport:[Math.max(document.documentElement.clientWidth,window.innerWidth||0),Math.max(document.documentElement.clientHeight,window.innerHeight||0)],resolution:[a.screen.width,a.screen.height],time:{start:h.t,duration:e-h.t||0},event:g.events,libs:f()},l.get("client_id")&&(n.client_id=l.get("client_id"));var y=!1,v=l.get("error.filter");if(c.debug("Configured filters",v),s.each(v,function(t){var e=n.error.message;if(c.debug("Checking filter",t,e.split("\n").shift()+"..."),s.isFunction(t))y=!!t(e);else if(s.isRegExp(t))y=e.match(t);else if(s.isString(t))try{var r=new RegExp(t);y=e.match(r)}catch(o){c.warn("error.filter encountered an invalid regular expression",t)}else c.warn("error.filter takes a function or regular expression as argument.",t),y=!1;return y&&c.debug("Error was filtered",t,y),!y}),y)return;var m=d.hash(p(n.error.stack)),b=g.hashes[m];if(c.debug("Remembering error",n.error.message,m),g.hashes[m]=window.setTimeout(function(){c.debug("Removing error hash from history",n.error.message,m),delete g.hashes[m]},5e3),b)return c.debug("Clearing existing timer instead of reporting error",m),void clearInterval(b);var w=new XMLHttpRequest;w.onreadystatechange=function(){if(4===w.readyState)switch(w.status){case 200:g.xhr.push(n.id||n.message);break;case 0:case 501:case 502:case 503:case 504:case 429:r>1e4?c.error("Backoff Error: Waited too long for transport ("+r+" )"):a.setTimeout(function(){delete g.hashes[m],i(t,e,r*Math.ceil(1+Math.random()))},r);break;default:c.error("HTTP Error "+w.status)}};try{w.open("POST","https://"+l.get("host")+"/ingress/browser/"+l.get("id"),!0),w.withCredentials=!0,w.setRequestHeader("Content-Type","text/plain; charset=UTF-8"),l.get("commit")===!0||"true"===l.get("commit")?w.send(p(n)):c.warn("Commit is disabled. Error report was not sent")}catch(k){c.error("Heh. This browser is too old to send error reports cross-origin. "+k.toString())}}catch(k){c.error(k||"Unknown error during report")}}var a=window,s=e("lodash"),u=e("manifest"),c=e("logger"),f=e("libraries"),l=e("config"),p=e("stringify"),h=e("global"),g=e("internal"),d=e("md5"),y=e("error-stack-parser");return i}),r("processor",["require","lodash","./config","./internal","./logger","./reporter"],function(t){"use strict";function e(){var t;do if(t=f.shift()){p++;try{r(t)}catch(o){s.error(o||"Unknown Error running processQueueItem")}}while(t&&3>p);n=setTimeout(e,c)}function r(t){var e,r=t[0],n=[].slice.call(r),c=t[1];if(o.isError(n[0])||n[0]instanceof Error){if(!n[0].stack)return;n=[n[0],c],e="report"}else if(5===n.length&&o.isError(n[4])||n[4]instanceof Error)n[4].stack||(n[4].stack="<unknown>@"+n[1]+":"+n[2]+":"+n[3]),n=[n[4],c],e="report";else if(n.length>=4&&o.isString(n[0])&&o.isString(n[1])&&n[1].match(/^(http|file)/i)&&o.isNumber(n[2])){var f=n[0].match(/^(\w+Error):\s?(.*)/);n=[{message:f&&f[2]?f[2]:n[0],line:n[2],column:n[3]||0,name:f&&f[1]?f[1]:"Error",stack:"<unknown>@"+n[1]+":"+n[2]+":"+(n[3]||0)},c],e="report"}else e=n.shift();switch("id"===e&&(e="config",n.unshift("id")),"identify"===e&&(e="config",n.unshift("client_id")),("version"===e||"revision"===e)&&(n.unshift(e),e="data"),a.audit.push([e,n,c]),a.audit=a.audit.slice(-50),e){case"report":a.trap.push(n),u.apply(u,n);break;case"data":a.data[n[0]]=n[1];break;case"config":"string"==typeof n[0]&&n[1]?i.set(n[0],n[1]):o.isObject(n[0])&&i.bulk(n[0]);break;case"tag":if(o.isObject(n[0])){var l={};o.each(n[0],function(t,e){l[e]=t.toString().substr(0,64)}),n[1]===!0?a.tags=l:o.merge(a.tags,l)}else"string"!=typeof n[0]||"string"!=typeof n[1]&&"number"!=typeof n[1]?s.warn('tags must be and object or "key", "value"'):a.tags[n[0]]=n[1].toString().substr(0,64);break;default:s.warn(e+" is not a valid method",arguments)}}var n,o=t("lodash"),i=t("./config"),a=t("./internal"),s=t("./logger"),u=t("./reporter"),c=500,f=[],l=function(t){return f=t,l},p=0;return l.start=function(){return l.stop(),e(),n},l.stop=function(){clearTimeout(n)},l}),r("events",["require","internal","global","config","logger","stringify","lodash"],function(t){"use strict";function e(t){var e=t.tagName,r=t.className.split(" ").shift(),n=t.id;return n?e=e+"#"+n:r&&(e=e+"."+r),e}function r(t){t.time_offset=+new Date-s.t;var e=a.events.slice(-1).pop();e&&t.event===e.event&&t.type===e.type&&t.target===e.target?(e.occurred=e.occurred?++e.occurred:2,e.last_offset=+new Date-s.t):a.events.push(t),a.events=a.events.slice(-i)}function n(t,n,o){var i=u.get("event.filter");if(i){var a=!1,p=n+"."+t.type+": "+f(o);if(l.each(i||[],function(t){if(l.isFunction(t))a=!!t(p);else if(l.isRegExp(t))a=p.match(t);else if(l.isString(t))try{var e=new RegExp(t);a=p.match(e)}catch(r){c.warn("Invalid Regex: "+t)}else a=!1}),a)return}var h,g=t.target||{};switch(n){case"user":case"window":1===g.nodeType?t.detail&&(h=e(g),h===t.target.tagName&&t.target.parentElement&&(h=e(t.target.parentElement)+">"+h)):g===document?h="document":g===window?h="window":o.ident?h=o.ident:g.ident&&(h=g.ident);break;case"xhr":h=o.method.toUpperCase()+" "+o.url}h&&r({time_offset:+new Date-s.t,event:t.type,type:n,target:h&&h.toLowerCase()})}function o(t,e,r,o){t=t||{};var i;if(t.attachEvent?(e="on"+e,i=t.attachEvent):i=t.addEventListener,i)try{var a=l.debounce(function(t){n(t,r,o)},100,{lead:!0,trailing:!0});i.call(t,e,a)}catch(s){}else c.error("Events are not supported on "+r+"."+e,t)}var i=10,a=t("internal"),s=t("global"),u=t("config"),c=t("logger"),f=t("stringify"),l=t("lodash"),p=window;return{attach:function(){l.each(["scroll","load","hashchange","pushstate","popstate","replacestate"],function(t){o(p,t,"window")}),l.each(["click","change","submit"],function(t){o(p,t,"user")}),u.get("event.xhr")!==!1&&!function(t){XMLHttpRequest.prototype.open=function(e,r){var n=this;r.match(/mixpanel/)||r.match(new RegExp("^https://"+u.get("host")+"/"))||l.each(["load","error"],function(t){o(n,t,"xhr",{method:e,url:r})}),t.apply(this,arguments)}}(XMLHttpRequest.prototype.open);var t=window.location.href;u.get("event.location")!==!1&&window.setInterval(function(){window.location.href!==t&&(n({type:"location"},"window",{ident:window.location.href}),t=window.location.href)},500)}}}),r("main",["require","./functions","./global","internal","./processor","./events"],function(t){"use strict";t("./functions");var e=t("./global"),r=(t("internal"),t("./processor")(e.q));r.start();var n=t("./events");n.attach()}),e(["main"])}();